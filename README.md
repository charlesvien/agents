# ðŸ¤– Charles' Agentic Workflow

The skills and agents I use to ship code for PostHog. Built around Graphite stacked PRs and the PostHog Code ecosystem.

## Setup

```bash
git clone https://github.com/charlesvien/agents
cd agents
./install.sh
```

Symlinks everything into `~/.claude/` alongside your existing skills and agents.

## Skills

| Skill | What it does | When to use |
|---|---|---|
| `/ctrace` | Trace a tRPC call end-to-end | Before touching unfamiliar code paths |
| `/ctest` | Generate colocated tests for a source file | After writing or changing a module |
| `/cwrap` | Parallel typecheck + lint + test, fix all errors | Before committing  - make sure nothing's broken |
| `/crebase` | Rebase onto parent, resolve conflicts | When your stack falls behind |
| `/cpr` | Create a Graphite PR with auto-generated title | Ready to ship  - opens the PR for you |
| `/cscaffold` | Scaffold a new Twig feature | Starting a new feature from scratch |
| `/clogs` | Find Claude/Twig session log files | Debugging a session or task run |
| `/cbatch` | Parallelize a code transformation across many files | Migrations, renames and API changes  - e.g. `/cbatch migrate from trpc to orpc` |

## Agents

| Agent | Model | What it does |
|---|---|---|
| `code-reviewer` | Sonnet | Reviews diffs for bugs, security, performance and TS strictness |
| `refactor` | Sonnet | Analyzes code structure, identifies violations of store/service boundary and applies safe refactors |

## Settings

Copy the parts you want into your own `~/.claude/settings.json` (don't symlink  - it would overwrite your personal config).

```json
{
  "attribution": {
    "commit": "",
    "pr": ""
  },
  "model": "opus",
  "enabledPlugins": {
    "frontend-design@claude-code-plugins": true
  },
  "skipDangerousModePermissionPrompt": true
}
```

| Setting | Value | Why |
|---|---|---|
| `attribution.commit` / `attribution.pr` | `""` (empty) | Disables the "Generated by Claude Code" attribution in commits and PRs. Keeps git history clean. |
| `model` | `"opus"` | Default to the most capable model. Worth the extra cost for complex refactors and multi-file changes |
| `enabledPlugins.frontend-design` | `true` | Enables the `frontend-design` plugin from the official Claude Code marketplace  - produces higher quality UI code with better design sense. |
| `skipDangerousModePermissionPrompt` | `true` | Skips the confirmation dialog when entering dangerously-permissive mode. Removes friction if you trust your setup. |
